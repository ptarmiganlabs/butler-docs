{"openapi":"3.0.3","info":{"title":"Butler API documentation","description":"Butler is a microservice that provides add-on features to Qlik Sense Enterprise on Windows.\nButler offers both a REST API and things like failed reload notifications etc.\n\nThis page contains the API documentation. Full documentation is available at https://butler.ptarmiganlabs.com","version":"8.3.3"},"components":{"schemas":{}},"paths":{"/v4/configfile/endpointsenabled":{"get":{"summary":"Get an array of all enabled API endpoints.","description":"Get an array of all enabled API endpoints, using the key names from the Butler config file.\n\nNote: Endpoints are enabled/disabled in the Butler main configuration file.","responses":{"200":{"description":"Enabled API enpooints.","content":{"application/json":{"schema":{"description":"Enabled API enpooints.","type":"array","items":{"type":"string"},"example":["activeUserCount","activeUsers","apiListEnbledEndpoints"]},"example":["activeUserCount","activeUsers","apiListEnbledEndpoints"]}}}}}},"/v4/base62tobase16":{"get":{"summary":"Converts strings from base62 to base16.","description":"Converts strings from base62 to base16.","parameters":[{"schema":{"type":"string","example":"6DMW88LpSok9Z7P7hUK0wv7bF"},"example":"6DMW88LpSok9Z7P7hUK0wv7bF","in":"query","name":"base62","required":true,"description":"The base62 encoded string that should be converted to base16"}],"responses":{"200":{"description":"Base conversion successful.","content":{"application/json":{"schema":{"description":"Base conversion successful.","type":"object","properties":{"base62":{"type":"string","description":"The base62 encoded string that should be converted to base16"},"base16":{"type":"string","description":"Resulting base16 encoded string."}},"example":{"base62":"6DMW88LpSok9Z7P7hUK0wv7bF","base16":"3199af08bfeeaf5d420f27ed9c01e74370077"}},"example":{"base62":"6DMW88LpSok9Z7P7hUK0wv7bF","base16":"3199af08bfeeaf5d420f27ed9c01e74370077"}}}},"400":{"description":"Required parameter missing.","content":{"application/json":{"schema":{"description":"Required parameter missing.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/base16tobase62":{"get":{"summary":"Converts strings from base16 to base62.","description":"Converts strings from base16 to base62.","parameters":[{"schema":{"type":"string","example":"3199af08bfeeaf5d420f27ed9c01e74370077"},"example":"3199af08bfeeaf5d420f27ed9c01e74370077","in":"query","name":"base16","required":true,"description":"The base16 encoded string that should be converted to base62"}],"responses":{"200":{"description":"Base conversion successful.","content":{"application/json":{"schema":{"description":"Base conversion successful.","type":"object","properties":{"base62":{"type":"string","description":"The base62 encoded string that should be converted to base16"},"base16":{"type":"string","description":"Resulting base62 encoded string."}},"example":{"base16":"3199af08bfeeaf5d420f27ed9c01e74370077","base62":"6DMW88LpSok9Z7P7hUK0wv7bF"}},"example":{"base16":"3199af08bfeeaf5d420f27ed9c01e74370077","base62":"6DMW88LpSok9Z7P7hUK0wv7bF"}}}},"400":{"description":"Required parameter missing.","content":{"application/json":{"schema":{"description":"Required parameter missing.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/butlerping":{"get":{"summary":"Tests if Butler is alive and responding","description":"Tests if Butler is alive and responding","responses":{"200":{"description":"Butler is alive and well.","content":{"application/json":{"schema":{"description":"Butler is alive and well.","type":"object","properties":{"response":{"type":"string","example":"Butler reporting for duty"},"butlerVersion":{"type":"string","example":"5.5.0"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/filecopy":{"put":{"summary":"Copy file(s) between well defined, approved locations.","description":"Copying of files is only posttible between pre-approved directories.\nDefining approved source and destination directories is done in Butler's config file.\n\nIf the source directory contains subdirectories, these will be copied too.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"fromFile":{"type":"string","description":"Name of source file.","example":"subfolder/file1.qvd"},"toFile":{"type":"string","description":"Name of destination file. Can be different from source file name, if needed.","example":"archive/file1_20200925.qvd"},"overwrite":{"type":"boolean","description":"Controls whether destination file should be overwritten if it already exists. Note that the copy operation will silently fail if you set this to false and the destination exists. Defaults to false.","example":false},"preserveTimestamp":{"type":"boolean","description":"When true, the timestamp of the source file(s) will be preserved on the destination file(s). When false, timestamp behaviour is OS-dependent. Defaults to false.","example":false}}}}}},"responses":{"201":{"description":"File copied.","content":{"application/json":{"schema":{"description":"File copied.","type":"object","properties":{"fromFile":{"type":"string","description":"Name of source file.","example":"subfolder/file1.qvd"},"toFile":{"type":"string","description":"Name of destination file. Can be different from source file name, if needed.","example":"archive/file1_20200925.qvd"},"overwrite":{"type":"boolean","description":"Controls whether destination file should be overwritten if it already exists. Note that the copy operation will silently fail if you set this to false and the destination exists. Defaults to false.","example":false},"preserveTimestamp":{"type":"boolean","description":"When true, the timestamp of the source file(s) will be preserved on the destination file(s). When false, timestamp behaviour is OS-dependent. Defaults to false.","example":false}}}}}},"400":{"description":"\"Required parameter missing\" or \"fromFile not found\".","content":{"application/json":{"schema":{"description":"\"Required parameter missing\" or \"fromFile not found\".","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"403":{"description":"No approved fromDir/toDir for file copy.","content":{"application/json":{"schema":{"description":"No approved fromDir/toDir for file copy.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/filemove":{"put":{"summary":"Move file(s) between well defined, approved locations.","description":"Moving of files is only posttible between pre-approved directories.\nDefining approved source and destination directories is done in Butler's config file.\n\nIf the source directory contains subdirectories, these will be moved too.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"fromFile":{"type":"string","description":"Name of source file.","example":"subfolder/file1.qvd"},"toFile":{"type":"string","description":"Name of destination file. Can be different from source file name, if needed.","example":"archive/file1_20200925.qvd"},"overwrite":{"type":"boolean","description":"Controls whether destination file should be overwritten if it already exists. Defaults to false.","example":false}}}}}},"responses":{"201":{"description":"File moved.","content":{"application/json":{"schema":{"description":"File moved.","type":"object","properties":{"fromFile":{"type":"string","description":"Name of source file.","example":"subfolder/file1.qvd"},"toFile":{"type":"string","description":"Name of destination file. Can be different from source file name, if needed.","example":"archive/file1_20200925.qvd"},"overwrite":{"type":"boolean","description":"Controls whether destination file should be overwritten if it already exists. Defaults to false.","example":false}}}}}},"400":{"description":"\"Required parameter missing\" or \"fromFile not found\".","content":{"application/json":{"schema":{"description":"\"Required parameter missing\" or \"fromFile not found\".","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"403":{"description":"No approved fromDir/toDir for file copy.","content":{"application/json":{"schema":{"description":"No approved fromDir/toDir for file copy.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/filedelete":{"delete":{"summary":"Delete file(s) in well defined, approved locations.","description":"It is only possible to delete files in pre-approved directories, or subdirectories thereof.\nDefining approved directories is done in Butler's config file.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"deleteFile":{"type":"string","description":"Name of file to be deleted. Use forward/backward slashes in paths as needed, depending on whether Butler runs on Windows/non-Windows platform.","example":"data/qvdstore/sales/file1.qvd"}}}}}},"responses":{"204":{"description":"File deleted.","content":{"application/json":{"schema":{"description":"File deleted.","type":"object"}}}},"400":{"description":"\"Required parameter missing\" or \"File requested for delete not found\".","content":{"application/json":{"schema":{"description":"\"Required parameter missing\" or \"File requested for delete not found\".","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"403":{"description":"No approved directory matches the delete request.","content":{"application/json":{"schema":{"description":"No approved directory matches the delete request.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/createdirqvd":{"post":{"summary":"Creates a directory in designated QVD directory.","description":"Creates a directory in QVD directory (which is defined in Butler's config file).","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"directory":{"type":"string","description":"Directory that should be created.","example":"subfolder/2020-10"}}}}}},"responses":{"201":{"description":"Directory created.","content":{"application/json":{"schema":{"description":"Directory created.","type":"object","properties":{"directory":{"type":"string","description":"Directory that was created.","example":"subfolder/2020-10"}}}}}},"400":{"description":"Required parameter missing.","content":{"application/json":{"schema":{"description":"Required parameter missing.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/createdir":{"post":{"summary":"Creates a directory anywhere in the file system.","description":"If the directory already exists nothing will happen.\nIf permissions don't allow a directory to be created, or if the path is invalid, an error will be returned.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"directory":{"type":"string","description":"Path to directory that should be created. Can be a relative or absolute path.","example":"/Users/joe/data/qvds/2020"}}}}}},"responses":{"201":{"description":"Directory created.","content":{"application/json":{"schema":{"description":"Directory created.","type":"object","properties":{"directory":{"type":"string","description":"Directory that was created.","example":"/Users/joe/data/qvds/2020"}}}}}},"400":{"description":"Required parameter missing.","content":{"application/json":{"schema":{"description":"Required parameter missing.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error (file system permissions etc).","content":{"application/json":{"schema":{"description":"Internal error (file system permissions etc).","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/keyvaluesnamespaces":{"get":{"summary":"List all currently defined namespaces.","responses":{"200":{"description":"Array of all namespaces.","content":{"application/json":{"schema":{"description":"Array of all namespaces.","type":"array","items":{"type":"string"},"example":["Weekly sales app","Sales ETL step 1","Sales ETL step 2"]},"example":["Weekly sales app","Sales ETL step 1","Sales ETL step 2"]}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/keyvalues/{namespace}":{"get":{"summary":"Get the value associated with a key, in a specific namespace.","parameters":[{"schema":{"type":"string","example":"Last extract timestamp"},"example":"Last extract timestamp","in":"query","name":"key","required":true},{"schema":{"type":"string","example":"Sales ETL step 2"},"example":"Sales ETL step 2","in":"path","name":"namespace","required":true}],"responses":{"200":{"description":"Key and it's associated value and metadata returned.","content":{"application/json":{"schema":{"description":"Key and it's associated value and metadata returned.","type":"object","properties":{"namespace":{"type":"string","description":"Namespace name.","example":"Sales ETL step 2"},"key":{"type":"string","description":"Key name.","example":"Last extract timestamp"},"value":{"type":"string","description":"Value stored in the key-value pair.","example":"2020-09-29 17:14:56"}}}}}},"400":{"description":"\"Namespace or key not found\" or \"Required parameter missing\".","content":{"application/json":{"schema":{"description":"\"Namespace or key not found\" or \"Required parameter missing\".","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}},"post":{"summary":"Create a new key-value pair in the specified namespace.","description":"If the specified key already exists it will be overwritten.\n\nIf the posted data has a TTL, it will start counting when the post occur.\nI.e. if a previouly posted key also had a TTL, it will be replace with the most recent TTL.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"key":{"type":"string","description":"Key to use","example":"ce68c8ca-b3ff-4371-8285-7c9ce5040e42_parameter_1"},"value":{"type":"string","description":"Value to set","example":"12345.789"},"ttl":{"type":"number","description":"Time to live = how long (milliseconds) the key-value pair should exist before being automatically deleted","example":10000}}}}}},"parameters":[{"schema":{"type":"string","example":"Sales ETL step 2"},"example":"Sales ETL step 2","in":"path","name":"namespace","required":true,"description":"Name of namespace."}],"responses":{"201":{"description":"Key successfully set.","content":{"application/json":{"schema":{"description":"Key successfully set.","type":"object","properties":{"namespace":{"type":"string","description":"Name of namespace.","example":"Sales ETL step 2"},"key":{"type":"string","description":"Key name.","example":"Last extract timestamp"},"value":{"type":"string","description":"Value stored in the key-value pair.","example":"2020-09-29 17:14:56"},"ttl":{"type":"number","description":"Time-to-live for the key-value pair. 0 if no ttl was set, otherwise in milliseconds.","example":60000}}}}}},"400":{"description":"\"Namespace not found\" or \"Required parameter missing\".","content":{"application/json":{"schema":{"description":"\"Namespace not found\" or \"Required parameter missing\".","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}},"delete":{"summary":"Delete a namespace and all key-value pairs in it.","parameters":[{"schema":{"type":"string","example":"Sales ETL step 2"},"example":"Sales ETL step 2","in":"path","name":"namespace","required":true,"description":"Name of namespace."}],"responses":{"204":{"description":"Namespace successfully deleted.","content":{"application/json":{"schema":{"description":"Namespace successfully deleted.","type":"string","example":""}}}},"400":{"description":"\"Namespace not found\" or \"Required parameter missing\".","content":{"application/json":{"schema":{"description":"\"Namespace not found\" or \"Required parameter missing\".","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/keyvalues/{namespace}/keyexists":{"get":{"summary":"Checks if a key exists in a namespace.","description":"Returns true if the specified key exists, otherwise false.","parameters":[{"schema":{"type":"string","example":"Last extract timestamp"},"example":"Last extract timestamp","in":"query","name":"key","required":true},{"schema":{"type":"string","example":"Sales ETL step 2"},"example":"Sales ETL step 2","in":"path","name":"namespace","required":true}],"responses":{"200":{"description":"Key exist/no-exist returned, together with the data if the does exist.","content":{"application/json":{"schema":{"description":"Key exist/no-exist returned, together with the data if the does exist.","type":"object","properties":{"keyExists":{"type":"boolean","description":"true/false flag indicating whether the specified key exists in the given namespace."},"keyValue":{"type":"object","properties":{"namespace":{"type":"string","description":"Namespace name.","example":"Sales ETL step 2"},"key":{"type":"string","description":"Key name.","example":"Last extract timestamp"},"value":{"type":"string","description":"Value stored in the key-value pair.","example":"2020-09-29 17:14:56"}}}}}}}},"400":{"description":"\"Namespace not found\" or \"Required parameter missing\".","content":{"application/json":{"schema":{"description":"\"Namespace not found\" or \"Required parameter missing\".","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/keyvalues/{namespace}/{key}":{"delete":{"summary":"Delete a key-value pair in a specific namespace.","parameters":[{"schema":{"type":"string","example":"Sales ETL step 2"},"example":"Sales ETL step 2","in":"path","name":"namespace","required":true,"description":"Name of namespace."},{"schema":{"type":"string","example":"ce68c8ca-b3ff-4371-8285-7c9ce5040e42_parameter_1"},"example":"ce68c8ca-b3ff-4371-8285-7c9ce5040e42_parameter_1","in":"path","name":"key","required":true,"description":"Key to use"}],"responses":{"204":{"description":"Key-value pair successfully deleted.","content":{"application/json":{"schema":{"description":"Key-value pair successfully deleted.","type":"string","example":""}}}},"400":{"description":"\"Namespace or key not found\" or \"Required parameter missing\".","content":{"application/json":{"schema":{"description":"\"Namespace or key not found\" or \"Required parameter missing\".","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/keylist/{namespace}":{"get":{"summary":"Retrieve a list of all keys present in the specified namespace.","parameters":[{"schema":{"type":"string","example":"Sales ETL step 2"},"example":"Sales ETL step 2","in":"path","name":"namespace","required":true,"description":"Name of namespace whose keys should be returned."}],"responses":{"200":{"description":"Object containing namespace name + list of allkeys in the namespace.","content":{"application/json":{"schema":{"description":"Object containing namespace name + list of allkeys in the namespace.","type":"object","properties":{"namespace":{"type":"string","description":"","example":"Sales ETL step 2"},"keys":{"type":"array","items":{"type":"object","key":{"type":"string"}},"example":[{"key":"ce68c8ca-b3ff-4371-8285-7c9ce5040e42_parameter_1"},{"key":"ce68c8ca-b3ff-4371-8285-7c9ce5040e42_parameter_2"}]}}}}}},"400":{"description":"\"Namespace not found\" or \"Required parameter missing\".","content":{"application/json":{"schema":{"description":"\"Namespace not found\" or \"Required parameter missing\".","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/mqttpublishmessage":{"put":{"summary":"Publish a message to a MQTT topic.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"topic":{"type":"string","description":"Topic to which message should be published.","example":"qliksense/new_data_notification/sales"},"message":{"type":"string","description":"The message is a generic text string and can thus contain anything that can be represented in a string, including JSON, key-value pairs, plain text etc.","example":"dt=20201028"}},"required":["topic","message"]}}},"required":true},"responses":{"201":{"description":"MQTT message successfully published.","content":{"application/json":{"schema":{"description":"MQTT message successfully published.","type":"object","properties":{"topic":{"type":"string","example":"qliksense/new_data_notification/sales"},"message":{"type":"string","example":"dt=20201028"}}}}}},"400":{"description":"Required parameter missing.","content":{"application/json":{"schema":{"description":"Required parameter missing.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/newrelic/event":{"post":{"summary":"Post events to New Relic.","description":"This endpoint posts events to the New Relic event API.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"eventType":{"type":"string","description":"Event type. Can be a combination of alphanumeric characters, _ underscores, and : colons.","maxLength":254,"example":"relead-failed"},"timestamp":{"type":"number","description":"The event's start time in Unix time. Uses UTC time zone. This field also support seconds, microseconds, and nanoseconds. However, the data will be converted to milliseconds for storage and query. Events reported with a timestamp older than 48 hours ago or newer than 24 hours from the time they are reported are dropped by New Relic. If left empty Butler will use the current time as timestamp.","example":1642164296053},"attributes":{"type":"array","description":"Dimensions/attributs that will be associated with the event.","items":{"type":"object","properties":{"name":{"type":"string","maxLength":254,"example":"host.name"},"value":{"type":"string","maxLength":4096,"example":"dev.server.com"}}}}},"required":["eventType"]}}},"required":true},"responses":{"202":{"description":"Data accepted and sent to New Relic.","content":{"application/json":{"schema":{"description":"Data accepted and sent to New Relic.","type":"object","properties":{"newRelicResultCode":{"type":"number","example":"202"},"newRelicResultText":{"type":"string","example":"Data accepted."}}}}}},"400":{"description":"Required parameter missing.","content":{"application/json":{"schema":{"description":"Required parameter missing.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/newrelic/metric":{"post":{"summary":"Post metrics to New Relic.","description":"This endpoint posts metrics to the New Relic metrics API.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"Metric name.","maxLength":254,"example":"memory.heap"},"type":{"type":"string","description":"Metric type.","enum":["gauge"],"example":"gauge"},"value":{"type":"number","description":"Value of the metric.","example":2.3},"timestamp":{"type":"number","description":"The metric's start time in Unix time. Uses UTC time zone. This field also support seconds, microseconds, and nanoseconds. However, the data will be converted to milliseconds for storage and query. Metrics reported with a timestamp older than 48 hours ago or newer than 24 hours from the time they are reported are dropped by New Relic. If left empty Butler will use the current time as timestamp.","example":1642164296053},"interval":{"type":"number","description":"The length of the time window (millisec). Required for count and summary metric types."},"attributes":{"type":"array","description":"Dimensions that will be associated with the metric.","items":{"type":"object","properties":{"name":{"type":"string","maxLength":254,"example":"host.name"},"value":{"type":"string","example":"dev.server.com"}}}}},"required":["name","type","value"]}}},"required":true},"responses":{"202":{"description":"Data accepted and sent to New Relic.","content":{"application/json":{"schema":{"description":"Data accepted and sent to New Relic.","type":"object","properties":{"newRelicResultCode":{"type":"number","example":"202"},"newRelicResultText":{"type":"string","example":"Data accepted."}}}}}},"400":{"description":"Required parameter missing.","content":{"application/json":{"schema":{"description":"Required parameter missing.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/app/{appId}/reload":{"put":{"summary":"Do a stand-alone reload of a Qlik Sense app, without using a task.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"reloadMode":{"type":"integer","description":"Reload mode that will be used. 0, 1 or 2. If not specified 0 will be used"},"partialReload":{"type":"boolean","description":"Should a full (=false) or partial (=true) reload be done? If not specified a full reload will be done.","example":true},"startQSEoWTaskOnSuccess":{"type":"array","description":"Array of task IDs that should be started when the app has successfully reloaded.","items":{"type":"string"},"example":["09b3c78f-04dd-45e3-a4bf-1b074d6572fa","eaf1da4f-fd44-4cea-b2de-7b67a6496ee3"]},"startQSEoWTaskOnFailure":{"type":"array","description":"Array of task IDs that should be started if the app fails reloading.","items":{"type":"string"},"example":["09b3c78f-04dd-45e3-a4bf-1b074d6572fa","eaf1da4f-fd44-4cea-b2de-7b67a6496ee3"]}}}}}},"parameters":[{"schema":{"type":"string","example":"210832b5-6174-4572-bd19-3e61eda675ef"},"example":"210832b5-6174-4572-bd19-3e61eda675ef","in":"path","name":"appId","required":true,"description":"ID of Qlik Sense app."}],"responses":{"201":{"description":"App successfully reloaded.","content":{"application/json":{"schema":{"description":"App successfully reloaded.","type":"object","properties":{"appId":{"type":"string","description":"ID of reloaded app","example":"210832b5-6174-4572-bd19-3e61eda675ef"}}}}}},"400":{"description":"Required parameter missing.","content":{"application/json":{"schema":{"description":"Required parameter missing.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/senseappdump/{appId}":{"get":{"summary":"Dump a Sense app to JSON.","description":"Does the same thing as `/v4/app/:appId/dump`","parameters":[{"schema":{"type":"string","example":"210832b5-6174-4572-bd19-3e61eda675ef"},"example":"210832b5-6174-4572-bd19-3e61eda675ef","in":"path","name":"appId","required":true,"description":"ID of Qlik Sense app."}],"responses":{"200":{"description":"App dump successful. App metadata returned as JSON.","content":{"application/json":{"schema":{"description":"App dump successful. App metadata returned as JSON.","type":"object","example":{"properties":{},"loadScript":"","sheets":[],"stories":[],"masterobjects":[],"appprops":[],"dataconnections":[],"dimensions":[],"bookmarks":[],"embeddedmedia":[],"snapshots":[],"fields":[],"variables":[],"measures":[]}},"example":{"properties":{},"loadScript":"","sheets":[],"stories":[],"masterobjects":[],"appprops":[],"dataconnections":[],"dimensions":[],"bookmarks":[],"embeddedmedia":[],"snapshots":[],"fields":[],"variables":[],"measures":[]}}}},"400":{"description":"Required parameter missing.","content":{"application/json":{"schema":{"description":"Required parameter missing.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"422":{"description":"App not found in  Qlik Sense.","content":{"application/json":{"schema":{"description":"App not found in  Qlik Sense.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/app/{appId}/dump":{"get":{"summary":"Dump a Sense app to JSON.","description":"Does the same thing as `/v4/senseappdump/:appId`","parameters":[{"schema":{"type":"string","example":"210832b5-6174-4572-bd19-3e61eda675ef"},"example":"210832b5-6174-4572-bd19-3e61eda675ef","in":"path","name":"appId","required":true,"description":"ID of Qlik Sense app."}],"responses":{"200":{"description":"App dump successful. App metadata returned as JSON.","content":{"application/json":{"schema":{"description":"App dump successful. App metadata returned as JSON.","type":"object","example":{"properties":{},"loadScript":"","sheets":[],"stories":[],"masterobjects":[],"appprops":[],"dataconnections":[],"dimensions":[],"bookmarks":[],"embeddedmedia":[],"snapshots":[],"fields":[],"variables":[],"measures":[]}},"example":{"properties":{},"loadScript":"","sheets":[],"stories":[],"masterobjects":[],"appprops":[],"dataconnections":[],"dimensions":[],"bookmarks":[],"embeddedmedia":[],"snapshots":[],"fields":[],"variables":[],"measures":[]}}}},"400":{"description":"Required parameter missing.","content":{"application/json":{"schema":{"description":"Required parameter missing.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"422":{"description":"App not found in  Qlik Sense.","content":{"application/json":{"schema":{"description":"App not found in  Qlik Sense.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/senselistapps":{"get":{"summary":"Get a list of all apps in Sense environment.","description":"Does the same thing as `/v4/apps/list`","responses":{"200":{"description":"App list successfully retrieved.","content":{"application/json":{"schema":{"description":"App list successfully retrieved.","type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"App ID","example":"5d7ae888-61cd-4539-97b2-6cf5baaa6f9d"},"name":{"type":"string","description":"App name","example":"2021 sales targets"}}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/apps/list":{"get":{"summary":"Get a list of all apps in Sense environment.","description":"Does the same thing as `/v4/senselistapps`","responses":{"200":{"description":"App list successfully retrieved.","content":{"application/json":{"schema":{"description":"App list successfully retrieved.","type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"App ID","example":"5d7ae888-61cd-4539-97b2-6cf5baaa6f9d"},"name":{"type":"string","description":"App name","example":"2021 sales targets"}}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/reloadtask/{taskId}/start":{"put":{"summary":"Start a Qlik Sense task.","description":"An optional array of zero or more objects can be passed in the message body. It is used to pass additional info related to the reload task being started.\n\nCurrently supported values in this array are:\n\n- A key-value pair that will be stored in Butler's KV store. If Butler's key-value store is not enabled, any key-value information passed in this parameter will simply be ignored.\nSetting `ttl=0` disables the TTL feature, i.e. the KV pair will not expire.\n- A task identified by its taskId that should be started.\n- Tasks identified by tags set on tasks in the QMC.\n- Tasks identified by custom properties set in the QMC.\n\nThis parameter uses a generic JSON/object format (type + payload).\nIt's thus possible to add new integrations in future Butler versions.","requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"Optional object with extra info.","items":{"type":"object","properties":{"type":{"type":"string","enum":["keyvaluestore","starttaskid","starttasktag","starttaskcustomproperty"],"example":"keyvaluestore"},"payload":{"type":"object"}}},"example":[{"type":"starttaskid","payload":{"taskId":"7552d9fc-d1bb-4975-9a38-18357de531ea"}},{"type":"starttasktag","payload":{"tag":"startTask1"}},{"type":"starttaskcustomproperty","payload":{"customPropertyName":"taskGroup","customPropertyValue":"tasks2"}},{"type":"keyvaluestore","payload":{"namespace":"MyFineNamespace","key":"AnImportantKey","value":"TheValue","ttl":10000}}]},"example":[{"type":"starttaskid","payload":{"taskId":"7552d9fc-d1bb-4975-9a38-18357de531ea"}},{"type":"starttasktag","payload":{"tag":"startTask1"}},{"type":"starttaskcustomproperty","payload":{"customPropertyName":"taskGroup","customPropertyValue":"tasks2"}},{"type":"keyvaluestore","payload":{"namespace":"MyFineNamespace","key":"AnImportantKey","value":"TheValue","ttl":10000}}]}}},"parameters":[{"schema":{"type":"boolean","example":true},"example":true,"in":"query","name":"allTaskIdsMustExist","required":false,"description":"If set to `true`, all specified taskIds must exist. If one or more taskIds does not exist in the Sense server, *no* tasks will be started.\n\nIf set to `false`, all existing taskIds will be started. Missing/invalid taskIds will be ignored.\n\nIn either case, missing/invalid taskIds will be reported in the result set back to the client calling the API.\n\nNote: Tasks started by specifying tags and/or custom properties are not affected by this."},{"schema":{"type":"string","example":"210832b5-6174-4572-bd19-3e61eda675ef"},"example":"210832b5-6174-4572-bd19-3e61eda675ef","in":"path","name":"taskId","required":true,"description":"ID of Qlik Sense task.\nButler will ignore the \"magic\" task ID of \"-\" (=dash, hyphen). This ID will not be reported as invalid."}],"responses":{"200":{"description":"Task successfully started.","content":{"application/json":{"schema":{"description":"Task successfully started.","type":"object","example":{"tasksId":{"started":[{"taskId":"e3b27f50-b1c0-4879-88fc-c7cdd9c1cf3e","taskName":"Reload task of App1"}],"invalid":[{"taskId":"abc"}],"denied":[{"taskId":"a1a11a11-b1c0-4879-88fc-c7cdd9c1cf3e"}]},"tasksTag":[{"taskId":"e3b27f50-b1c0-4879-88fc-c7cdd9c1cf3e","taskName":"Reload task of App1"}],"tasksTagDenied":[{"tag":"startTask_invalid1"}],"tasksCP":[{"taskId":"e3b27f50-b1c0-4879-88fc-c7cdd9c1cf3e","taskName":"Reload task of App1"}],"tasksCPDenied":[{"name":"taskGroup","value":"cp_value_denied1"}]}},"example":{"tasksId":{"started":[{"taskId":"e3b27f50-b1c0-4879-88fc-c7cdd9c1cf3e","taskName":"Reload task of App1"}],"invalid":[{"taskId":"abc"}],"denied":[{"taskId":"a1a11a11-b1c0-4879-88fc-c7cdd9c1cf3e"}]},"tasksTag":[{"taskId":"e3b27f50-b1c0-4879-88fc-c7cdd9c1cf3e","taskName":"Reload task of App1"}],"tasksTagDenied":[{"tag":"startTask_invalid1"}],"tasksCP":[{"taskId":"e3b27f50-b1c0-4879-88fc-c7cdd9c1cf3e","taskName":"Reload task of App1"}],"tasksCPDenied":[{"name":"taskGroup","value":"cp_value_denied1"}]}}}},"400":{"description":"Required parameter missing.","content":{"application/json":{"schema":{"description":"Required parameter missing.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}},"post":{"summary":"Start a Qlik Sense task.","description":"An optional array of zero or more objects can be passed in the message body. It is used to pass additional info related to the reload task being started.\n\nCurrently supported values in this array are:\n\n- A key-value pair that will be stored in Butler's KV store. If Butler's key-value store is not enabled, any key-value information passed in this parameter will simply be ignored.\nSetting `ttl=0` disables the TTL feature, i.e. the KV pair will not expire.\n- A task identified by its taskId that should be started.\n- Tasks identified by tags set on tasks in the QMC.\n- Tasks identified by custom properties set in the QMC.\n\nThis parameter uses a generic JSON/object format (type + payload).\nIt's thus possible to add new integrations in future Butler versions.","requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"Optional object with extra info.","items":{"type":"object","properties":{"type":{"type":"string","enum":["keyvaluestore","starttaskid","starttasktag","starttaskcustomproperty"],"example":"keyvaluestore"},"payload":{"type":"object"}}},"example":[{"type":"starttaskid","payload":{"taskId":"7552d9fc-d1bb-4975-9a38-18357de531ea"}},{"type":"starttasktag","payload":{"tag":"startTask1"}},{"type":"starttaskcustomproperty","payload":{"customPropertyName":"taskGroup","customPropertyValue":"tasks2"}},{"type":"keyvaluestore","payload":{"namespace":"MyFineNamespace","key":"AnImportantKey","value":"TheValue","ttl":10000}}]},"example":[{"type":"starttaskid","payload":{"taskId":"7552d9fc-d1bb-4975-9a38-18357de531ea"}},{"type":"starttasktag","payload":{"tag":"startTask1"}},{"type":"starttaskcustomproperty","payload":{"customPropertyName":"taskGroup","customPropertyValue":"tasks2"}},{"type":"keyvaluestore","payload":{"namespace":"MyFineNamespace","key":"AnImportantKey","value":"TheValue","ttl":10000}}]}}},"parameters":[{"schema":{"type":"boolean","example":true},"example":true,"in":"query","name":"allTaskIdsMustExist","required":false,"description":"If set to `true`, all specified taskIds must exist. If one or more taskIds does not exist in the Sense server, *no* tasks will be started.\n\nIf set to `false`, all existing taskIds will be started. Missing/invalid taskIds will be ignored.\n\nIn either case, missing/invalid taskIds will be reported in the result set back to the client calling the API.\n\nNote: Tasks started by specifying tags and/or custom properties are not affected by this."},{"schema":{"type":"string","example":"210832b5-6174-4572-bd19-3e61eda675ef"},"example":"210832b5-6174-4572-bd19-3e61eda675ef","in":"path","name":"taskId","required":true,"description":"ID of Qlik Sense task.\nButler will ignore the \"magic\" task ID of \"-\" (=dash, hyphen). This ID will not be reported as invalid."}],"responses":{"200":{"description":"Task successfully started.","content":{"application/json":{"schema":{"description":"Task successfully started.","type":"object","example":{"tasksId":{"started":[{"taskId":"e3b27f50-b1c0-4879-88fc-c7cdd9c1cf3e","taskName":"Reload task of App1"}],"invalid":[{"taskId":"abc"}],"denied":[{"taskId":"a1a11a11-b1c0-4879-88fc-c7cdd9c1cf3e"}]},"tasksTag":[{"taskId":"e3b27f50-b1c0-4879-88fc-c7cdd9c1cf3e","taskName":"Reload task of App1"}],"tasksTagDenied":[{"tag":"startTask_invalid1"}],"tasksCP":[{"taskId":"e3b27f50-b1c0-4879-88fc-c7cdd9c1cf3e","taskName":"Reload task of App1"}],"tasksCPDenied":[{"name":"taskGroup","value":"cp_value_denied1"}]}},"example":{"tasksId":{"started":[{"taskId":"e3b27f50-b1c0-4879-88fc-c7cdd9c1cf3e","taskName":"Reload task of App1"}],"invalid":[{"taskId":"abc"}],"denied":[{"taskId":"a1a11a11-b1c0-4879-88fc-c7cdd9c1cf3e"}]},"tasksTag":[{"taskId":"e3b27f50-b1c0-4879-88fc-c7cdd9c1cf3e","taskName":"Reload task of App1"}],"tasksTagDenied":[{"tag":"startTask_invalid1"}],"tasksCP":[{"taskId":"e3b27f50-b1c0-4879-88fc-c7cdd9c1cf3e","taskName":"Reload task of App1"}],"tasksCPDenied":[{"name":"taskGroup","value":"cp_value_denied1"}]}}}},"400":{"description":"Required parameter missing.","content":{"application/json":{"schema":{"description":"Required parameter missing.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}},"/v4/slackpostmessage":{"put":{"summary":"Send message to Slack.","description":"Sends a basic message to Slack.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"channel":{"type":"string","description":"Slack channel to post message into. Prefix channel name with #.","example":"#reload-notification"},"from_user":{"type":"string","description":"Name of sending user, as shown in the Slack message","example":"Butler the Bot"},"msg":{"type":"string","description":"Text going into the Slack message","example":"This is a message from Qlik Sense"},"emoji":{"type":"string","description":"Emoji to shown next to Slack message","example":"thumbsup"}},"required":["channel","from_user","msg"]}}},"required":true},"responses":{"201":{"description":"Message successfully sent to Slack.","content":{"application/json":{"schema":{"description":"Message successfully sent to Slack.","type":"object","properties":{"channel":{"type":"string","description":"Slack channel to post message into. Prefix channel name with #.","example":"#reload-notification"},"from_user":{"type":"string","description":"Name of sending user, as shown in the Slack message","example":"Butler the Bot"},"msg":{"type":"string","description":"Text going into the Slack message","example":"This is a message from Qlik Sense"},"emoji":{"type":"string","description":"Emoji to shown next to Slack message","example":"thumbsup"}}}}}},"400":{"description":"Required parameter missing.","content":{"application/json":{"schema":{"description":"Required parameter missing.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}},"500":{"description":"Internal error.","content":{"application/json":{"schema":{"description":"Internal error.","type":"object","properties":{"statusCode":{"type":"number"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"time":{"type":"string"}}}}}}}}}},"servers":[{"url":"http://localhost:8081"}],"externalDocs":{"url":"https://github.com/ptarmiganlabs","description":"Butler family of tools on GitHub"}}