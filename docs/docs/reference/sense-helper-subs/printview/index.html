<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.122.0">
<link rel="canonical" type="text/html" href="https://butler.ptarmiganlabs.com/docs/reference/sense-helper-subs/">
<link rel="alternate" type="application/rss&#43;xml" href="https://butler.ptarmiganlabs.com/docs/reference/sense-helper-subs/index.xml">
<meta name="robots" content="noindex, nofollow">
<script defer data-domain="butler.ptarmiganlabs.com" src="https://plausible.io/js/script.js"></script>

<link rel="canonical" href="https://butler.ptarmiganlabs.com/docs/reference/sense-helper-subs/" />



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Helper subs that make it easy to use Butler APIs | Butler</title>
<meta name="description" content="Butler exposes a REST API that can be called from many different systems and tools, just not Qlik Sense itself.
  
When it comes to Sense, it&#39;s very doable but not entirely easy to call REST APIs from an app&#39;s load script.   Butler comes with a set of subs/functions that wrap the API calls and make it a lot easier and cleaner to call Butler APIs from load scripts.
  
This page describes those subs.
">
<meta property="og:title" content="Helper subs that make it easy to use Butler APIs" />
<meta property="og:description" content="Butler exposes a REST API that can be called from many different systems and tools, just not Qlik Sense itself.
  
When it comes to Sense, it&#39;s very doable but not entirely easy to call REST APIs from an app&#39;s load script.   Butler comes with a set of subs/functions that wrap the API calls and make it a lot easier and cleaner to call Butler APIs from load scripts.
  
This page describes those subs.
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://butler.ptarmiganlabs.com/docs/reference/sense-helper-subs/" />

<meta itemprop="name" content="Helper subs that make it easy to use Butler APIs">
<meta itemprop="description" content="Butler exposes a REST API that can be called from many different systems and tools, just not Qlik Sense itself.
  
When it comes to Sense, it&#39;s very doable but not entirely easy to call REST APIs from an app&#39;s load script.   Butler comes with a set of subs/functions that wrap the API calls and make it a lot easier and cleaner to call Butler APIs from load scripts.
  
This page describes those subs.
"><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Helper subs that make it easy to use Butler APIs"/>
<meta name="twitter:description" content="Butler exposes a REST API that can be called from many different systems and tools, just not Qlik Sense itself.
  
When it comes to Sense, it&#39;s very doable but not entirely easy to call REST APIs from an app&#39;s load script.   Butler comes with a set of subs/functions that wrap the API calls and make it a lot easier and cleaner to call Butler APIs from load scripts.
  
This page describes those subs.
"/>




<link rel="preload" href="/scss/main.min.760be0d42a95747f7072e6cf9b47cc5c5c4d7715dd765fd062712100e6b3d9d8.css" as="style">
<link href="/scss/main.min.760be0d42a95747f7072e6cf9b47cc5c5c4d7715dd765fd062712100e6b3d9d8.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

  </head>
  <body class="td-section">
    <header>
      <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"></span><span class="navbar-brand__name">Butler</span></a>
  <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
      </ul>
  </div>
  <div class="navbar-nav d-none d-lg-block">
    
  </div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/docs/reference/sense-helper-subs/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Helper subs that make it easy to use Butler APIs</h1>
<div class="lead"><p>Butler exposes a REST API that can be called from many different systems and tools, just not Qlik Sense itself.</p>
<p>When it comes to Sense, it&rsquo;s very doable but not entirely easy to call REST APIs from an app&rsquo;s load script.   Butler comes with a set of subs/functions that wrap the API calls and make it a lot easier and cleaner to call Butler APIs from load scripts.</p>
<p>This page describes those subs.</p>
</div>




    <ul>
    
  
  
  
  

  

    </ul>


<div class="content">
      <h2 id="currently-available-helper-subs">Currently available helper subs</h2>
<p>These sub() are available in the the file <code>butler_subs.qvs</code> in the <a href="https://github.com/ptarmiganlabs/butler/blob/master/docs/sense_script/butler_subs.qvs">GitHub repo</a>.</p>
<p>They are also part of the demo app <strong>Butler 5.2 demo app</strong>, which is also available in the <a href="https://github.com/ptarmiganlabs/butler/tree/master/docs/sense_apps">GitHub repo</a>.</p>
<table>
<thead>
<tr>
<th>Sub name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>NiceTrace</td>
<td>Prints timestamped messages in the reload log.</td>
</tr>
<tr>
<td>ButlerInit</td>
<td>Initializes some data structures used by Butler. Right now there isn&rsquo;t much done in this sub, but this may change in future versions.</td>
</tr>
<tr>
<td>GetEnabledButlerAPIEndpoints</td>
<td>Gets a list of which Butler API endpoints are enabled.</td>
</tr>
<tr>
<td>ReloadSenseApp</td>
<td>Does a full or partial app reload in the engine. No reload tasks are involved in the actual reload, but when the reload is done different reload tasks can be started depending on whether the reload was successful or not.</td>
</tr>
<tr>
<td>StartTask_KeyValue</td>
<td>Same as above, but a key-value pair can also be included via the extra parameters. This KV pair is saved in Butler&rsquo;s KV store (assuming it&rsquo;s enabled). Any Sense app (or other system) can then query the KV store for these parameters. It&rsquo;s thus an easy but effective way of passing arbitrary parameters to Sense tasks (or rather to the associated app&rsquo;s load scripts).</td>
</tr>
<tr>
<td>StartTask</td>
<td>Start a single or many reload tasks. Tasks can be selected using task IDs, tags and custom properties.<br>Full freedom to use any number of task IDs, tags and custom properties to specify what tasks should be started.<br>Any number of key-value pairs can be passed along as parameters.</td>
</tr>
<tr>
<td>CopyFile</td>
<td>Copy a file or directory in a file system that&rsquo;s accessible to Butler and also approved in the config file.</td>
</tr>
<tr>
<td>MoveFile</td>
<td>Move a file or directory in a file system that&rsquo;s accessible to Butler and also approved in the config file.</td>
</tr>
<tr>
<td>DeleteFile</td>
<td>Delete a file in a file system that&rsquo;s accessible to Butler and also approved in the config file.</td>
</tr>
<tr>
<td>CreateDir</td>
<td>Create new directory anywhere Butler has access. <em><strong>Warning!</strong></em> If Butler is running with admin privileges there is no stopping a user from creating directories <em>anywhere</em>.</td>
</tr>
<tr>
<td>CreateDirQVD</td>
<td>Create a directory somewhere under the QVD folder specified in the config file&rsquo;s <code>Butler.configDirectories.qvdPath</code>. This is less of a security concern than the previous call, of course.</td>
</tr>
<tr>
<td>AddKeyValue</td>
<td>Add a key-value pair to a namespace in the Key-Value (KV) store.</td>
</tr>
<tr>
<td>GetKeyValue</td>
<td>Get KV pair in a namespace.</td>
</tr>
<tr>
<td>DeleteKeyValue</td>
<td>Delete a KV pair in a namespace.</td>
</tr>
<tr>
<td>ExistsKeyValue</td>
<td>Tests if a KV pair exists in a namespace.</td>
</tr>
<tr>
<td>DeleteKeyValueNamespace</td>
<td>Delete a namespace and all KV pairs in it.</td>
</tr>
<tr>
<td>GetKeyValueNamespaces</td>
<td>Get all namespaces.</td>
</tr>
<tr>
<td>GetKeyValueNamespaces</td>
<td>Get all keys in a specifi namespace.</td>
</tr>
<tr>
<td>PostToMQTT</td>
<td>Post a message to a MQTT topic.</td>
</tr>
<tr>
<td>PostToSlack</td>
<td>Post a basic message to Slack.</td>
</tr>
</tbody>
</table>
<h2 id="helper-subs-on-the-todo-list">Helper subs on the todo list</h2>
<p>There should be helper subs for these API endpoints too, they&rsquo;re just not there yet&hellip;</p>
<table>
<thead>
<tr>
<th>Sub name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>AddSchedule</td>
<td>Add a new task reload schedule to Butler&rsquo;s scheduler.</td>
</tr>
<tr>
<td>GetSchedule</td>
<td>Get information about an existing Butler task schedule.</td>
</tr>
<tr>
<td>UpdateSchedule</td>
<td>Modify an existing Butler task schedule.</td>
</tr>
<tr>
<td>DeleteSchedule</td>
<td>Delete a Butler task schedule.</td>
</tr>
<tr>
<td>StartSchedule</td>
<td>Enable a Butler task schedule.</td>
</tr>
<tr>
<td>StopSchedule</td>
<td>Disable/pause a Butler task schedule.</td>
</tr>
<tr>
<td>PostToTeams</td>
<td>Make it easy to post basic messages to MS Teams.</td>
</tr>
</tbody>
</table>

</div>
</div>


  
  
  
  

  
  

  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="SenseOps mailing list" aria-label="SenseOps mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://ptarmiganlabs.com/#/portal/signup" aria-label="SenseOps mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Discussion forums on GitHub" aria-label="Discussion forums on GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/ptarmiganlabs/butler/discussions" aria-label="Discussion forums on GitHub">
      <i class="fa fa-comments"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Ptarmigan Labs" aria-label="Ptarmigan Labs">
    <a class="text-white" target="_blank" rel="noopener" href="https://ptarmiganlabs.com" aria-label="Ptarmigan Labs">
      <i class="fa fa-external-link"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="LinkedIn" aria-label="LinkedIn">
    <a class="text-white" target="_blank" rel="noopener" href="https://www.linkedin.com/in/gorsan/" aria-label="LinkedIn">
      <i class="fab fa-linkedin"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/ptarmiganlabs/butler" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Bug reports &amp; Feature requests" aria-label="Bug reports &amp; Feature requests">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/ptarmiganlabs/butler/issues/new/choose" aria-label="Bug reports &amp; Feature requests">
      <i class="fa fa-bug"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Get in touch with Ptarmigan Labs" aria-label="Get in touch with Ptarmigan Labs">
    <a class="text-white" target="_blank" rel="noopener" href="mailto://info@ptarmiganlabs.com" aria-label="Get in touch with Ptarmigan Labs">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2024 Ptarmigan Labs AB All Rights Reserved</small>
        
	
		<p class="mt-2"><a href="/docs/about/">About</a></p>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
  <script src="/js/main.min.523509bf13607632997fb2eeed668872c5fb9c71c1c18f4d68e77a786fa8136f.js" integrity="sha256-UjUJvxNgdjKZf7Lu7WaIcsX7nHHBwY9NaOd6eG&#43;oE28=" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>
