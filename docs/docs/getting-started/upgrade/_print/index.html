<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.117.0">
<link rel="canonical" type="text/html" href="/docs/getting-started/upgrade/">
<link rel="alternate" type="application/rss&#43;xml" href="/docs/getting-started/upgrade/index.xml">
<meta name="robots" content="noindex, nofollow">
<script defer data-domain="butler.ptarmiganlabs.com" src="https://plausible.io/js/script.js"></script>



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Upgrade | Butler</title>
<meta name="description" content="Upgrading from one version of Butler to another is usually quite straightforward.  
  
This page describes the upgrade process. 
">
<meta property="og:title" content="Upgrade" />
<meta property="og:description" content="Upgrading from one version of Butler to another is usually quite straightforward.  
  
This page describes the upgrade process. 
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs/getting-started/upgrade/" />
<meta itemprop="name" content="Upgrade">
<meta itemprop="description" content="Upgrading from one version of Butler to another is usually quite straightforward.  
  
This page describes the upgrade process. 
"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Upgrade"/>
<meta name="twitter:description" content="Upgrading from one version of Butler to another is usually quite straightforward.  
  
This page describes the upgrade process. 
"/>




<link rel="preload" href="/scss/main.min.760be0d42a95747f7072e6cf9b47cc5c5c4d7715dd765fd062712100e6b3d9d8.css" as="style">
<link href="/scss/main.min.760be0d42a95747f7072e6cf9b47cc5c5c4d7715dd765fd062712100e6b3d9d8.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-00000000-0', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </head>
  <body class="td-section">
    <header>
      <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"></span><span class="navbar-brand__name">Butler</span></a>
  <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
      </ul>
  </div>
  <div class="navbar-nav d-none d-lg-block">
    
  </div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/docs/getting-started/upgrade/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Upgrade</h1>
<div class="lead"><p>Upgrading from one version of Butler to another is usually quite straightforward.</p>
<p>This page describes the upgrade process.</p>
</div>




    <ul>
    
  
  
  
  

  

    </ul>


<div class="content">
      <h2 id="the-upgrade-process">The upgrade process</h2>
<p>Butler is entirely driven by its configuration files, with the <a href="https://github.com/ptarmiganlabs/butler/blob/master/src/config/production_template.yaml">main YAML config file</a> being the most important one.<br>
There are other config files too, containing for example scheduling information.</p>
<p>Different kind of upgrades usually result in different levels on modifications needed in the main config file.</p>
<ul>
<li>&ldquo;Small&rdquo; Butler upgrades mean moving from one patch verison to another, without changing the feature version.<br>
Example: Upgrading from 7.3.0 &gt; 7.3.4.</li>
<li>&ldquo;Medium&rdquo; upgrades involves moving from one minor version to another, without changing the major version.
Example: Upgrading from 7.2.3 &gt; 7.3.0</li>
<li>&ldquo;Major&rdquo; upgrades is when you move to a new major version.
Example: 7.4.2 &gt; 8.0.0</li>
</ul>
<p>The versioning scheme used in Butler is described <a href="/docs/about/versioning/">here</a>.</p>
<style type="text/css">.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:#444;background:#e7f2fa}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:#fff;background:#6ab0de}.notice.warning .notice-title{background:rgba(217,83,79,.9)}.notice.warning{background:#fae2e2}.notice.info .notice-title{background:#f0b37e}.notice.info{background:#fff2db}.notice.note .notice-title{background:#6ab0de}.notice.note{background:#e7f2fA}.notice.tip .notice-title{background:rgba(92,184,92,.8)}.notice.tip{background:#e6f9e6}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline svg{top:0.125em;position:relative}</style>
<svg width="0" height="0" display="none" xmlns="http://www.w3.org/2000/svg"><symbol id="tip-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/></symbol><symbol id="note-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="warning-notice" viewBox="0 0 576 512" preserveAspectRatio="xMidYMid meet"><path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="info-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/></symbol></svg><div class="notice warning" >
<p class="first notice-title"><span class="icon-notice baseline"><svg><use href="#warning-notice"></use></svg></span>Warning</p><p>You should always upgrade to the latest available version.<br>
That version has the latest features, bug fixes and security patches.</p>
<p>Upgrading to an older version - or a pre-release version - means a higher risk for security concerns, not yet fully tested features etc.</p></div>

<h3 id="minor-upgrades">Minor upgrades</h3>
<p>This scenario rarely require any changes to Butler&rsquo;s configuration.<br>
The new release includes bug fixes, security patches, minor updates to documentation etc - but no new features.</p>
<p>In theory there should never be any updates needed to the config files when doing a minor upgrade.</p>
<h3 id="medium-upgrades">Medium upgrades</h3>
<p>This scenario means that new features are added to Butler.<br>
Usually there are also various bug fixes included.</p>
<p>Most new features need to be configured somehow, meaning that medium upgrades usually require modification to the config files.<br>
By far the most common is that it&rsquo;s the main config file that needs to be modified, but a new scheduler related feature could for example mean that the scheduler config file must be modified too.</p>
<p>The changes needed to the config files are usually additive in nature, i.e. some settings must be added to the config file, but the existing settings and general structure of the file remain the same.</p>
<h3 id="major-upgrades">Major upgrades</h3>
<p>This scneario involves breaking changes of some kind.</p>
<p>These almost certainly require changes to the config files, sometimes even significant ones in the sense that the structure of the config file may have changed.</p>
<h2 id="upgrade-checklist">Upgrade checklist</h2>
<div class="notice info" >
<p class="first notice-title"><span class="icon-notice baseline"><svg><use href="#info-notice"></use></svg></span>Info</p><p>Starting with Butler version 9.0 there is a check that the config file has the correct format.</p>
<p>This means that if you forget to add or change some setting in the main YAML config file, Butler will tell you what&rsquo;s missing and refuse to start.<br>
A consequence of this is that all settings are now mandatory, even if you don&rsquo;t use them.</p></div>

<ol>
<li>Look at the <a href="/docs">release notes</a> to get a general feeling for what is new and what has changed.<br>
Those are the areas tha may require changes in the config file.</li>
<li>Compare your existing main config file with the <a href="https://github.com/ptarmiganlabs/butler/blob/master/src/config/production_template.yaml">template config file</a> available on GitHub.<br>
This comparison is a manual process and can be a bit tedious, but knowing your config file is really needed in order to make full and correct use of Butler.</li>
<li>The result of the comparison will show you what parts of the config file are new (for medium-sized upgrades) and which parts have changed in a significant way (for major upgrades).</li>
<li>Get the binaries for the new Butler version from the <a href="https://github.com/ptarmiganlabs/butler/releases">download page</a>.</li>
<li>Start the new Butler version and let it run for a few minutes.
<ol>
<li>Review the console logs (or the log files) to make sure there are no warnings or errors.</li>
<li>If there are warnings or errors it can be helpful to start Butler with more verbose logging.<br>
Adding <code>--log-level verbose</code> or even <code>--log-level debug</code> will give you more details on what Butler is doing and what might be causing the problems you are experiencing.</li>
</ol>
</li>
</ol>
<h2 id="when-things-arent-working">When things aren&rsquo;t working</h2>
<p>By far the most common problem when upgrading to a new Butler version (or doing a fresh install) is an incorrect config file.</p>
<p>Thus, double check your config file, then triple check it.</p>
<p>If things still aren&rsquo;t working you can post a question in the <a href="https://github.com/ptarmiganlabs/butler/discussions/categories/q-a">Butler forums</a>.<br>
By sharing your installation and upgrade challenges/issues you enable future improvements, which will benefit both yourself and others.</p>

</div>
</div>


  
  
  
  

  
  

  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="SenseOps mailing list" aria-label="SenseOps mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://ptarmiganlabs.com/#/portal/signup" aria-label="SenseOps mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Discussion forums on GitHub" aria-label="Discussion forums on GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/ptarmiganlabs/butler/discussions" aria-label="Discussion forums on GitHub">
      <i class="fa fa-comments"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Ptarmigan Labs" aria-label="Ptarmigan Labs">
    <a class="text-white" target="_blank" rel="noopener" href="https://ptarmiganlabs.com" aria-label="Ptarmigan Labs">
      <i class="fa fa-external-link"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="LinkedIn" aria-label="LinkedIn">
    <a class="text-white" target="_blank" rel="noopener" href="https://www.linkedin.com/in/gorsan/" aria-label="LinkedIn">
      <i class="fab fa-linkedin"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/ptarmiganlabs/butler" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Bug reports &amp; Feature requests" aria-label="Bug reports &amp; Feature requests">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/ptarmiganlabs/butler/issues/new/choose" aria-label="Bug reports &amp; Feature requests">
      <i class="fa fa-bug"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Get in touch with Ptarmigan Labs" aria-label="Get in touch with Ptarmigan Labs">
    <a class="text-white" target="_blank" rel="noopener" href="mailto://info@ptarmiganlabs.com" aria-label="Get in touch with Ptarmigan Labs">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2023 Ptarmigan Labs AB All Rights Reserved</small>
        
	
		<p class="mt-2"><a href="/docs/about/">About</a></p>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
  <script src="/js/main.min.be25a680a0d95dc8b5d6664622e2134aa894220e2f224ef609e00f633a3a1b32.js" integrity="sha256-viWmgKDZXci11mZGIuITSqiUIg4vIk72CeAPYzo6GzI=" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>
